<template>
  <svg
    class="falltext"
    preserveAspectRatio="none"
    width="1920"
    height="1080"
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 2000 1038"
  >
    <defs />
    <g id="reed">
      <g id="Fallstroke">
        <mask
          id="path-1-outside-fall"
          width="369"
          height="182"
          x="815.7"
          y="436.9"
          fill="#000"
          maskUnits="userSpaceOnUse"
        >
          <path fill="#fff" d="M815.7 436.9h369v182h-369z" />
          <path
            d="M934.4 446c1.5 2 2.4 4.3 2.7 7 0 1 0 2-.2 3 0 .8-.1 1.7-.3 2.5-.1 1.8-1.2 3.6-3.2 5.3a27 27 0 01-4.5 2.4c-1 .4-2.1.6-3.3.8a28.6 28.6 0 00-6.7.8H904l-52.2.2v.8l-.3 40.7h4.3c1.6 0 3.6 0 6-.3h17.7l17.5.3h1.5c1.9 0 3.7 0 5.5.3h6a62.4 62.4 0 0111 2c3 1 5.2 2.5 6.5 4.7 1.9 2.2 2.8 4.4 2.8 6.8v3c0 .8-.2 1.7-.5 2.7-.2 1.3-1.3 3-3.3 5-1.3 1.2-2.9 2-4.7 2.3l-3 1-3.3.5-3.5.5h-15l-46 .2-.7 58v2c0 .8-.1 1.6-.3 2.3 0 .8 0 1.6-.2 2.5l-1 2.5c-.2 1-.4 1.9-.8 2.7-1.1 2.3-2.2 4-3.2 4.8-1.9 1.3-4.1 2.2-6.8 2.7-4.5 1-8.7.5-12.7-1.5-.9-.5-1.7-1.2-2.5-2a8.7 8.7 0 01-1.8-2.8c-.3-.6-.5-1.1-.5-1.5l-.7-1.5c-.5-.8-.9-1.7-1-2.7a2209.6 2209.6 0 00-.8-5c0-.8 0-1.7-.2-2.5-.2-1.3-.2-2.7 0-4v-4l.2-19.5.3-36 .2-16.3v-17l-.2-16c.1-4.6.4-9.7.7-15.2v-1.3l.3-5c0-1.6.1-3.3.5-5a29 29 0 012.5-9.7c1.1-2.8 2.8-4.8 5-6 2.5-1.5 5.1-2.3 8-2.3 1.3 0 2.4.1 3.2.3v-.3h18l8-.2c13.4-.2 26.5-.2 39.5 0h1.3c1.8.2 3.6.3 5.5.3a72 72 0 0111.5 1c1.8.3 3.6.8 5.5 1.4 2.8.9 5 2.3 6.5 4.3zM969.7 510.3a58.4 58.4 0 0132-6 47 47 0 0115.7 4.2 47.3 47.3 0 0124 23.8c2.3 5.1 4 10.9 5 17.2a53 53 0 003.3 12 306.6 306.6 0 009.7 22c1.7 3.7 3 7.5 4 11.5.8 3.8.5 7.5-1 11-1.3 3.7-4.2 6-8.5 6.8-2.5.5-4.9.2-7.2-.8-2.2-.8-4.2-2.2-6-4a33.6 33.6 0 01-5-5.8l-3.8-5.7c-3.8 5-8 8.8-12.5 11.5a40 40 0 01-16.2 5.5 79 79 0 01-30.8-2.3c-7.1-1.8-13-5-17.7-9.7a48.3 48.3 0 01-14.3-35.5c-.1-7 .7-14 2.5-20.8 2.4-9 5.9-16.3 10.5-22 4.7-5.6 10.1-10 16.3-13zm6.2 29.2c-2.3 2.3-4.1 5-5.5 8.3a33.9 33.9 0 00-2.5 10c-.1 3.5.2 7 1 10.5.9 3.5 2.2 6.5 4 9.2 1.7 2.3 4.5 4.3 8.5 6 4 1.5 8.2 2.4 12.5 2.8 5 .3 9.4-1 13-4a27 27 0 008.5-11.3c2-4.7 3-9.6 2.8-14.8a28.9 28.9 0 00-4.3-14.5 18 18 0 00-8-7 23.6 23.6 0 00-10.2-2.2 28.2 28.2 0 00-19.8 7zM1117.5 595.5a49 49 0 01-.5 2.3v2.5l-1.5 5.2-.8 1.3-.7 1.5a9.8 9.8 0 01-4.5 4.5c-4 2-8.3 2.5-12.8 1.5a13 13 0 01-6.7-2.5 9.5 9.5 0 01-3.5-4.3 28 28 0 01-1.5-5c-.5-1.7-.8-3.2-.8-4.5V458v-3a87 87 0 012-8.5c.5-1.7 1.4-3 2.8-4 2-1.5 3.9-2.3 5.7-2.5a12 12 0 013.3-.5c1-.2 2.1-.3 3.5-.3 2.3 0 5 .7 8 2 2.3 1.4 4 3.2 5 5.6 1.6 3.3 2.5 6.4 2.5 9.2l.2 7.5.3 7.5v1a251.2 251.2 0 01.2 31.5c0 5.7 0 11.2-.2 16.5v70l.2 1.8c0 1.6 0 2.9-.2 3.7zM1182 595.5l-.6 2.3v2.5l-1.5 5.2-.7 1.3-.8 1.5a9.8 9.8 0 01-4.5 4.5c-4 2-8.2 2.5-12.7 1.5a13 13 0 01-6.8-2.5 9.5 9.5 0 01-3.5-4.3c-.6-1.7-1.1-3.3-1.5-5-.5-1.7-.7-3.2-.7-4.5V458v-3a129.7 129.7 0 012-8.5c.5-1.7 1.4-3 2.7-4 2-1.5 4-2.3 5.8-2.5a12 12 0 013.2-.5c1-.2 2.2-.3 3.5-.3 2.4 0 5 .7 8 2 2.4 1.4 4 3.2 5 5.6 1.7 3.3 2.5 6.4 2.5 9.2.2 1.7.3 4.2.3 7.5l.2 7.5v1c.4 5.3.5 10.5.5 15.5 0 4.8 0 10.2-.2 16 0 5.7-.1 11.2-.3 16.5v70c.2.5.3 1 .3 1.8 0 1.6-.1 2.9-.3 3.7z"
          />
        </mask>
        <path
          stroke="#A06000"
          stroke-width="4"
          d="M934.4 446c1.5 2 2.4 4.3 2.7 7 0 1 0 2-.2 3 0 .8-.1 1.7-.3 2.5-.1 1.8-1.2 3.6-3.2 5.3a27 27 0 01-4.5 2.4c-1 .4-2.1.6-3.3.8a28.6 28.6 0 00-6.7.8H904l-52.2.2v.8l-.3 40.7h4.3c1.6 0 3.6 0 6-.3h17.7l17.5.3h1.5c1.9 0 3.7 0 5.5.3h6a62.4 62.4 0 0111 2c3 1 5.2 2.5 6.5 4.7 1.9 2.2 2.8 4.4 2.8 6.8v3c0 .8-.2 1.7-.5 2.7-.2 1.3-1.3 3-3.3 5-1.3 1.2-2.9 2-4.7 2.3l-3 1-3.3.5-3.5.5h-15l-46 .2-.7 58v2c0 .8-.1 1.6-.3 2.3 0 .8 0 1.6-.2 2.5l-1 2.5c-.2 1-.4 1.9-.8 2.7-1.1 2.3-2.2 4-3.2 4.8-1.9 1.3-4.1 2.2-6.8 2.7-4.5 1-8.7.5-12.7-1.5-.9-.5-1.7-1.2-2.5-2a8.7 8.7 0 01-1.8-2.8c-.3-.6-.5-1.1-.5-1.5l-.7-1.5c-.5-.8-.9-1.7-1-2.7a2209.6 2209.6 0 00-.8-5c0-.8 0-1.7-.2-2.5-.2-1.3-.2-2.7 0-4v-4l.2-19.5.3-36 .2-16.3v-17l-.2-16c.1-4.6.4-9.7.7-15.2v-1.3l.3-5c0-1.6.1-3.3.5-5a29 29 0 012.5-9.7c1.1-2.8 2.8-4.8 5-6 2.5-1.5 5.1-2.3 8-2.3 1.3 0 2.4.1 3.2.3v-.3h18l8-.2c13.4-.2 26.5-.2 39.5 0h1.3c1.8.2 3.6.3 5.5.3a72 72 0 0111.5 1c1.8.3 3.6.8 5.5 1.4 2.8.9 5 2.3 6.5 4.3zM969.7 510.3a58.4 58.4 0 0132-6 47 47 0 0115.7 4.2 47.3 47.3 0 0124 23.8c2.3 5.1 4 10.9 5 17.2a53 53 0 003.3 12 306.6 306.6 0 009.7 22c1.7 3.7 3 7.5 4 11.5.8 3.8.5 7.5-1 11-1.3 3.7-4.2 6-8.5 6.8-2.5.5-4.9.2-7.2-.8-2.2-.8-4.2-2.2-6-4a33.6 33.6 0 01-5-5.8l-3.8-5.7c-3.8 5-8 8.8-12.5 11.5a40 40 0 01-16.2 5.5 79 79 0 01-30.8-2.3c-7.1-1.8-13-5-17.7-9.7a48.3 48.3 0 01-14.3-35.5c-.1-7 .7-14 2.5-20.8 2.4-9 5.9-16.3 10.5-22 4.7-5.6 10.1-10 16.3-13zm6.2 29.2c-2.3 2.3-4.1 5-5.5 8.3a33.9 33.9 0 00-2.5 10c-.1 3.5.2 7 1 10.5.9 3.5 2.2 6.5 4 9.2 1.7 2.3 4.5 4.3 8.5 6 4 1.5 8.2 2.4 12.5 2.8 5 .3 9.4-1 13-4a27 27 0 008.5-11.3c2-4.7 3-9.6 2.8-14.8a28.9 28.9 0 00-4.3-14.5 18 18 0 00-8-7 23.6 23.6 0 00-10.2-2.2 28.2 28.2 0 00-19.8 7zM1117.5 595.5a49 49 0 01-.5 2.3v2.5l-1.5 5.2-.8 1.3-.7 1.5a9.8 9.8 0 01-4.5 4.5c-4 2-8.3 2.5-12.8 1.5a13 13 0 01-6.7-2.5 9.5 9.5 0 01-3.5-4.3 28 28 0 01-1.5-5c-.5-1.7-.8-3.2-.8-4.5V458v-3a87 87 0 012-8.5c.5-1.7 1.4-3 2.8-4 2-1.5 3.9-2.3 5.7-2.5a12 12 0 013.3-.5c1-.2 2.1-.3 3.5-.3 2.3 0 5 .7 8 2 2.3 1.4 4 3.2 5 5.6 1.6 3.3 2.5 6.4 2.5 9.2l.2 7.5.3 7.5v1a251.2 251.2 0 01.2 31.5c0 5.7 0 11.2-.2 16.5v70l.2 1.8c0 1.6 0 2.9-.2 3.7zM1182 595.5l-.6 2.3v2.5l-1.5 5.2-.7 1.3-.8 1.5a9.8 9.8 0 01-4.5 4.5c-4 2-8.2 2.5-12.7 1.5a13 13 0 01-6.8-2.5 9.5 9.5 0 01-3.5-4.3c-.6-1.7-1.1-3.3-1.5-5-.5-1.7-.7-3.2-.7-4.5V458v-3a129.7 129.7 0 012-8.5c.5-1.7 1.4-3 2.7-4 2-1.5 4-2.3 5.8-2.5a12 12 0 013.2-.5c1-.2 2.2-.3 3.5-.3 2.4 0 5 .7 8 2 2.4 1.4 4 3.2 5 5.6 1.7 3.3 2.5 6.4 2.5 9.2.2 1.7.3 4.2.3 7.5l.2 7.5v1c.4 5.3.5 10.5.5 15.5 0 4.8 0 10.2-.2 16 0 5.7-.1 11.2-.3 16.5v70c.2.5.3 1 .3 1.8 0 1.6-.1 2.9-.3 3.7z"
          mask="url(#path-1-outside-fall)"
        />
      </g>
      <path
        id="Falltext"
        fill="#A06000"
        d="M934.4 446c1.5 2 2.4 4.3 2.7 7 0 1 0 2-.2 3 0 .8-.1 1.7-.3 2.5-.1 1.8-1.2 3.6-3.2 5.3a27 27 0 01-4.5 2.4c-1 .4-2.1.6-3.3.8a28.6 28.6 0 00-6.7.8H904l-52.2.2v.8l-.3 40.7h4.3c1.6 0 3.6 0 6-.3h17.7l17.5.3h1.5c1.9 0 3.7 0 5.5.3h6a62.4 62.4 0 0111 2c3 1 5.2 2.5 6.5 4.7 1.9 2.2 2.8 4.4 2.8 6.8v3c0 .8-.2 1.7-.5 2.7-.2 1.3-1.3 3-3.3 5-1.3 1.2-2.9 2-4.7 2.3l-3 1-3.3.5-3.5.5h-15l-46 .2-.7 58v2c0 .8-.1 1.6-.3 2.3 0 .8 0 1.6-.2 2.5l-1 2.5c-.2 1-.4 1.9-.8 2.7-1.1 2.3-2.2 4-3.2 4.8-1.9 1.3-4.1 2.2-6.8 2.7-4.5 1-8.7.5-12.7-1.5-.9-.5-1.7-1.2-2.5-2a8.7 8.7 0 01-1.8-2.8c-.3-.6-.5-1.1-.5-1.5l-.7-1.5c-.5-.8-.9-1.7-1-2.7a2209.6 2209.6 0 00-.8-5c0-.8 0-1.7-.2-2.5-.2-1.3-.2-2.7 0-4v-4l.2-19.5.3-36 .2-16.3v-17l-.2-16c.1-4.6.4-9.7.7-15.2v-1.3l.3-5c0-1.6.1-3.3.5-5a29 29 0 012.5-9.7c1.1-2.8 2.8-4.8 5-6 2.5-1.5 5.1-2.3 8-2.3 1.3 0 2.4.1 3.2.3v-.3h18l8-.2c13.4-.2 26.5-.2 39.5 0h1.3c1.8.2 3.6.3 5.5.3a72 72 0 0111.5 1c1.8.3 3.6.8 5.5 1.4 2.8.9 5 2.3 6.5 4.3zm35.3 64.3a58.4 58.4 0 0132-6 47 47 0 0115.7 4.2 47.3 47.3 0 0124 23.8c2.3 5.1 4 10.9 5 17.2a53 53 0 003.3 12 306.6 306.6 0 009.7 22c1.7 3.7 3 7.5 4 11.5.8 3.8.5 7.5-1 11-1.3 3.7-4.2 6-8.5 6.8-2.5.5-4.9.2-7.2-.8-2.2-.8-4.2-2.2-6-4a33.6 33.6 0 01-5-5.8l-3.8-5.7c-3.8 5-8 8.8-12.5 11.5a40 40 0 01-16.2 5.5 79 79 0 01-30.8-2.3c-7.1-1.8-13-5-17.7-9.7a48.3 48.3 0 01-14.3-35.5c-.1-7 .7-14 2.5-20.8 2.4-9 5.9-16.3 10.5-22 4.7-5.6 10.1-10 16.3-13zm6.2 29.2c-2.3 2.3-4.1 5-5.5 8.3a33.9 33.9 0 00-2.5 10c-.1 3.5.2 7 1 10.5.9 3.5 2.2 6.5 4 9.2 1.7 2.3 4.5 4.3 8.5 6 4 1.5 8.2 2.4 12.5 2.8 5 .3 9.4-1 13-4a27 27 0 008.5-11.3c2-4.7 3-9.6 2.8-14.8a28.9 28.9 0 00-4.3-14.5 18 18 0 00-8-7 23.6 23.6 0 00-10.2-2.2 28.2 28.2 0 00-19.8 7zm141.6 56a49 49 0 01-.5 2.3v2.5l-1.5 5.2-.8 1.3-.7 1.5a9.8 9.8 0 01-4.5 4.5c-4 2-8.3 2.5-12.8 1.5a13 13 0 01-6.7-2.5 9.5 9.5 0 01-3.5-4.3 28 28 0 01-1.5-5c-.5-1.7-.8-3.2-.8-4.5V458v-3a87 87 0 012-8.5c.5-1.7 1.4-3 2.8-4 2-1.5 3.9-2.3 5.7-2.5a12 12 0 013.3-.5c1-.2 2.1-.3 3.5-.3 2.3 0 5 .7 8 2 2.3 1.4 4 3.2 5 5.6 1.6 3.3 2.5 6.4 2.5 9.2l.2 7.5.3 7.5v1a251.2 251.2 0 01.2 31.5c0 5.7 0 11.2-.2 16.5v70l.2 1.8c0 1.6 0 2.9-.2 3.7zm64.4 0l-.5 2.3v2.5l-1.5 5.2-.7 1.3-.8 1.5a9.8 9.8 0 01-4.5 4.5c-4 2-8.2 2.5-12.7 1.5a13 13 0 01-6.8-2.5 9.5 9.5 0 01-3.5-4.3c-.6-1.7-1.1-3.3-1.5-5-.5-1.7-.7-3.2-.7-4.5V458v-3a129.7 129.7 0 012-8.5c.5-1.7 1.4-3 2.7-4 2-1.5 4-2.3 5.8-2.5a12 12 0 013.2-.5c1-.2 2.2-.3 3.5-.3 2.4 0 5 .7 8 2 2.4 1.4 4 3.2 5 5.6 1.7 3.3 2.5 6.4 2.5 9.2.2 1.7.3 4.2.3 7.5l.2 7.5v1c.4 5.3.5 10.5.5 15.5 0 4.8 0 10.2-.2 16 0 5.7-.1 11.2-.3 16.5v70c.2.5.3 1 .3 1.8 0 1.6-.1 2.9-.3 3.7z"
      />
    </g>
  </svg>
</template>

<script setup>
import { onMounted, onBeforeUnmount } from "vue";
import { gsap } from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
gsap.registerPlugin(ScrollTrigger);

let scrollTrigger;

onMounted(() => {
  const falltext = gsap.timeline();
  scrollTrigger = ScrollTrigger.create({
    animation: falltext,
    trigger: ".scrollElement",
    start: "52% top",
    end: "62% 100%",
    scrub: 2,
    onEnter: () => {
      document.querySelector("#Fallstroke").style.animationPlayState =
        "running";
      gsap.from("#Fallstroke", { opacity: 1, delay: 2.5 });
      gsap.from("#Falltext", { opacity: 0, delay: 2 });
    },
  });
  falltext.from(".falltext", { opacity: 0 });
});

onBeforeUnmount(() => {
  scrollTrigger.kill();
});
</script>

<style scoped>
#Fallstroke {
  stroke-dashoffset: 1000;
  stroke-dasharray: 1000;
  animation: draw 2.5s linear alternate both;
  animation-play-state: paused;
}
@keyframes draw {
  to {
    stroke-dashoffset: 0;
  }
}
</style>
